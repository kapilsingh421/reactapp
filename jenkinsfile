node {
 slackSend baseUrl: 'https://test-zks8526.slack.com/services/hooks/jenkins-ci/', channel: '#jenkins', color: '#4CAF50', message: 'started', teamDomain: 'test-zks8526', token: 'pns0VFx88IkwtJ6vp8YwVoDS' 
 
    stage('preparation') {
        // Checkout the master branch of the repository
        git branch: 'master', url: 'https://github.com/kapilsingh421/edureka.git'
     
    }
    stage('verification'){
   if (!(default_test.contains(branch)
            || commit.contains("[ci]"))) {
            echo "Branch should not be tested by default and commit message contains no [ci], aborting.."
            currentBuild.result = "FAILURE"
            return
        }
  }
    stage ('build'){
    build 'test2'
    }
        
 publishHTML([allowMissing: false, alwaysLinkToLastBuild: false, keepAll: true, reportDir: 'report', reportFiles: 'report.html', reportName: 'Report', reportTitles: ''])
     
  slackSend baseUrl: 'https://test-zks8526.slack.com/services/hooks/jenkins-ci/', channel: '#jenkins', color: '#4CAF50', message: 'success', teamDomain: 'test-zks8526', token: 'pns0VFx88IkwtJ6vp8YwVoDS'


}
